"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[697],{5820:(e,t,r)=>{var a=r(6352);r(4715),r(6464),r(9570);var s=r(3747),n=r.n(s),o=r(4925);var i=r(7612);const l=()=>{window.addEventListener("message",(function(e){if(!e.data)return;const t=document.querySelector("#newsletter-form iframe");t&&(t.style.height=e.data+"px")}))};r(6728);var c=r(678);const d=()=>{const e=document.querySelector("[data-selligent-placeholder=paywall-banner]");e&&new u(e),document.querySelectorAll("[data-js-restricted-paywall-content]:not(._set)").forEach((e=>{const t=window.getComputedStyle(e).getPropertyValue("max-height");let r=e.getBoundingClientRect().height,a=[...e.children],s=[],n=[];function o(t){return t.offsetTop+t.offsetHeight-e.offsetHeight>0}function i(){s=[],a.forEach((t=>{t.offsetTop+t.offsetHeight-e.offsetHeight>0&&s.push(t)})),n=[],s.forEach((e=>{e.querySelectorAll("*").forEach((e=>{e.tagName&&"A"===e.tagName&&o(e)?n.push(e):e.shadowRoot?e.shadowRoot.querySelectorAll("a").forEach((e=>{o(e)&&n.push(e)})):e.querySelectorAll("a").forEach((e=>{o(e)&&n.push(e)}))}))}))}r>=parseInt(t,10)&&(i(),n.forEach((e=>{e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden",!0)}))),e.classList.add("_set")}))};class u{constructor(e){if(this.selligentPlaceholder=e,this.selligentDisabled()||this.selligentBannersAlreadyLoaded()){const e=this.getpaywallBannerElementFromPlaceholder(this.selligentPlaceholder);this.init(e)}else(0,c.or)(this.selligentPlaceholder).then((e=>{let[t,r]=e;const a=this.getpaywallBannerElementFromPlaceholder(t);r.disconnect(),this.init(a)}))}init(e){this.clickHandler(e)}selligentDisabled(){return o.Q.classList.contains("no-selligent")}selligentBannersAlreadyLoaded(){return o.Q.classList.contains("selligent")}getpaywallBannerElementFromPlaceholder(e){return e.querySelector("[data-js=paywall-btn]")}clickHandler(e){this.selligentPlaceholder.addEventListener("click",(t=>{t.target!=e&&e.click()}))}}var h=r(5989),b=r(4750);const f=()=>{document.querySelectorAll("[data-js-expandable-box]:not(._set)").forEach((e=>{const t=e.querySelector(".box__content__wrapper"),r=t.getBoundingClientRect().height,a=e.querySelector("[data-template-box]");if(r<260)return void e.classList.add("_expanded","_bailout","_set");const s=e.querySelector(".box__content"),n=[...s.children],o=a.content.firstElementChild.cloneNode(!0);let i=[],l=[];function c(r){return r.offsetTop+r.offsetHeight-(e.offsetHeight-parseInt(window.getComputedStyle(t,":after").height,10))>0}function d(){i=[],n.forEach((e=>{e.offsetTop+e.offsetHeight-s.offsetHeight>0&&i.push(e)})),l=[],i.forEach((e=>{e.querySelectorAll("*").forEach((e=>{e.tagName&&"A"===e.tagName&&c(e)?l.push(e):e.shadowRoot?e.shadowRoot.querySelectorAll("a").forEach((e=>{c(e)&&l.push(e)})):e.querySelectorAll("a").forEach((e=>{c(e)&&l.push(e)}))}))}))}function u(){d(),l.forEach((e=>{e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden",!0)}))}function h(){e.classList.remove("_expanded"),t.style.removeProperty("--box-height");const r=o.querySelector("button");r&&r.focus(),e.scrollIntoView({behavior:"smooth",block:"start"})}function f(r){e.classList.contains("_transitioning")||setTimeout((async()=>{if(e.classList.add("_transitioning"),e.classList.contains("_expanded"))t.style.setProperty("--box-height",`${t.offsetHeight}px`),setTimeout(h,50);else{t.style.setProperty("--box-height",`${t.offsetHeight}px`);const r=t.offsetHeight+(s.scrollHeight-s.offsetHeight);e.classList.add("_expanded"),t.style.setProperty("--box-height",`${r}px`)}!function(e){const t=o.querySelector("[disabled]");t&&t.removeAttribute("disabled"),e.setAttribute("disabled",!0)}(r),await(0,b.f_)(e),e.classList.contains("_expanded")?(l.forEach((e=>{e.removeAttribute("tabindex"),e.removeAttribute("aria-hidden")})),function(){const e=i[0]||s;e.setAttribute("tabindex",-1),e.focus(),e.removeAttribute("tabindex")}(),t.style.setProperty("--box-height","none")):u(),e.classList.remove("_transitioning")}),50)}u(),s.setAttribute("tabindex","-1"),e.append(o),o.querySelectorAll("button").forEach((e=>{e.addEventListener("click",(function(){f(e)}))})),e.classList.add("_set")}))};var p=r(5937);var y=r(2086);const g=()=>{document.querySelectorAll("[data-js-insert-fields]:not(._set)").forEach((e=>{let t,r,a=e.querySelector("template"),s=e.querySelector(".form__fields__footer"),n=s.querySelector(".form__controls"),o=n.querySelector("button"),i=s.querySelector(".form__text");function l(){t=a.content.querySelectorAll(".form__field"),r=!!t.length}function c(){let s=t[0];var c;e.insertBefore(s,a),c=s,setTimeout((async()=>{c.classList.add("_transitioning"),await(0,b.f_)(c),c.classList.remove("_freshly-inserted","_transitioning")}),50),l(),r||(o.disabled=!0,n.setAttribute("hidden",""),i.removeAttribute("hidden"))}l(),r&&(o.addEventListener("click",(function(e){e.preventDefault(),r&&c()})),e.classList.add("_set"))}))};var m=r(2507),_=r(9148),x=r(7208),A=r(5432);var v=r(6330);(0,a.Z)({afterReady:()=>{(()=>{const e=document.querySelector("[data-js-fontsize-increase]"),t=document.querySelector("[data-js-fontsize-decrease]");if(!e||!t)return;let r=Number(n().get("font-size",1));const a=a=>{o.Q.style.setProperty("--font-size-user-scale","1."+(a-1)),r!==a&&s(a),6===a?e.disabled=!0:a<6&&(e.disabled=!1),1===a?t.disabled=!0:a>1&&(t.disabled=!1)},s=e=>{n().set("font-size",e,{expires:365,domain:window.location.hostname,path:"/journal"}),r=e};a(r),e.addEventListener("click",(()=>a(r+1))),t.addEventListener("click",(()=>a(r-1)))})()},afterLoaded:()=>{(()=>{const e=document.querySelector("[data-js=engagement-bar-show-trigger]"),t=document.querySelector("[data-js=engagement-bar-hide-trigger]"),r=document.querySelector("[data-js=engagement-bar]"),a=document.querySelector("[data-js=nav]");if(!(a&&e&&t&&r))return;const s=a.offsetHeight,n=()=>r.classList.add("_visible"),o=()=>r.classList.remove("_visible");new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?o():n()}))}),{rootMargin:`-${s}px 0px 0px 0px`}).observe(e),new IntersectionObserver((e=>{e.forEach((e=>{!e.isIntersecting&&e.intersectionRatio>0&&e.boundingClientRect.top>0?n():o()}))}),{threshold:1}).observe(t)})(),(0,i.Z)(),l(),d(),(0,h.Z)(),f(),(()=>{const e=document.querySelector("[data-js-collection-card]"),t=e?.querySelector("[data-js-collection-card-body]"),r=e?.querySelector("[data-js-collection-card-trigger]"),a=e?.querySelector("[data-js-collection-card-content]"),s="--collection-card-body-height";if(!(t&&r&&a))return;const n=a.querySelectorAll(p.J),o=e=>{n.forEach((t=>{t.setAttribute("tabindex",e?0:-1)}))};o(!1),t.setAttribute("aria-hidden",!0),r.setAttribute("aria-expanded",!1),r.addEventListener("click",(()=>{e.style.setProperty(s,`${a.scrollHeight}px`),setTimeout((async()=>{const a="true"===r.getAttribute("aria-expanded");e.classList.toggle("_expanded",!a),o(!a),await(0,b.f_)(t),r.setAttribute("data-smarttag-chapter3",a?"ouvrir":"fermer"),t.setAttribute("aria-hidden",a),r.setAttribute("aria-expanded",!a),e.style.removeProperty(s)}),50)}))})(),document.querySelectorAll("[data-js-contextual-nav]:not(._set)").forEach((e=>{const t=e.querySelector("[data-js-contextual-nav-container]"),r=e.querySelector('[data-template="contextualNav"');if(!t||!r)return;const a=r.content.querySelector("button"),s=a.querySelector("span"),n=s.textContent,o=s.dataset.lessLabel,i=a.getAttribute("aria-label"),l=a.dataset.lessAriaLabel,c=function(e){const t=a.cloneNode(!0);return t.classList.add(`_${e}`),t.label=t.querySelector("span"),t},d=c("toggler");e.prepend(d);const u=c("expander");e.append(u);const h=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.closest("li");var r;e.intersectionRatio>0?((r=t).querySelector("a").removeAttribute("tabindex"),r.removeAttribute("aria-hidden")):function(e){e.querySelector("a").setAttribute("tabindex",-1),e.setAttribute("aria-hidden",!0)}(t)}))}),{root:e,rootMargin:"-10px",threshold:0});e.querySelectorAll("li").forEach((e=>{const t=e.querySelector("a");h.observe(t)}));const b=function(){const e=t.querySelector("a").getBoundingClientRect().height+parseInt(getComputedStyle(t.querySelector("li")).marginTop,10)+parseInt(getComputedStyle(t.querySelector("li")).marginBottom,10);t.style.setProperty("--contextual-nav-min-height",`${e}px`)},f=function(){b(),e.classList.add("_folded")},p=function(){const e=t.querySelector("ul");return!!e&&Math.round(e.scrollHeight)-Math.round(e.getBoundingClientRect().height)>0},g=function(r){const a=t.querySelector('[tabindex="-1"]');a&&(u.focusTarget=a.parentNode),t.classList.remove("_hidden"),u.classList.remove("_hidden@md"),!1===r?e.classList.remove("_folded"):setTimeout(f,100),d.label.classList.add("_swapping"),u.label.classList.add("_swapping"),r?(d.classList.remove("_expanded"),u.classList.remove("_expanded")):(d.classList.add("_expanded"),u.classList.add("_expanded")),d.setAttribute("aria-label",`${r?i:l}`),u.setAttribute("aria-label",`${r?i:l}`)};t.addEventListener("transitionend",(function(){u.classList.contains("_expanded")?(u.focusTarget&&(u.focusTarget.setAttribute("tabindex",1),u.focusTarget.focus(),u.focusTarget.removeAttribute("tabindex")),u.label.textContent=o,u.classList.add("_hidden@md")):u.label.textContent=n,d.classList.contains("_expanded")?(d.label.textContent=o,t.removeAttribute("style"),t.classList.add("_hidden")):(t.classList.add("_hidden"),d.label.textContent=n),d.label.classList.remove("_swapping"),u.label.classList.remove("_swapping")})),d.addEventListener("click",(()=>{const e=d.classList.contains("_expanded");t.style.setProperty("--contextual-nav-height",`${t.scrollHeight+parseInt(getComputedStyle(t).getPropertyValue("--contextual-nav-padding"),10)}px`),g(e)})),u.addEventListener("click",(()=>{const e=u.classList.contains("_expanded");t.style.setProperty("--contextual-nav-height",`${t.scrollHeight+parseInt(getComputedStyle(t).getPropertyValue("--contextual-nav-padding"),10)}px`),g(e)})),(0,y.KN)((()=>{p()?u.classList.remove("_hidden@md"):u.classList.add("_hidden@md")}),!0),p()||u.classList.add("_hidden@md"),b(),void 0!==document.fonts&&document.fonts.ready.then((function(){b()})),e.classList.add("_set")})),g(),(0,m.Z)(),(()=>{const e=document.querySelector("[data-js-summary]"),t=e?.querySelector("[data-js-summary-body]"),r=e?.querySelector("[data-js-summary-trigger]"),a=e?.querySelector("[data-js-summary-content]"),s=r?.getAttribute("data-js-summary-not-granted-cta-url"),n="--summary-body-height";if(s){const e=(0,A.Z)("action.summary_disabled_feedback",null,"action"),t=(0,A.Z)("action.subscribe",null,"action");r.addEventListener("click",(()=>{(0,_.L5)(e,{cta:{href:s,label:t},icon:x,opener:r})}))}if(!(t&&r&&a))return;const o=a.querySelectorAll(p.J),i=e=>{o.forEach((t=>{t.setAttribute("tabindex",e?0:-1)}))};i(!1),t.setAttribute("aria-hidden",!0),r.setAttribute("aria-expanded",!1),r.addEventListener("click",(()=>{e.style.setProperty(n,`${a.scrollHeight}px`),setTimeout((async()=>{const a="true"===r.getAttribute("aria-expanded");e.classList.toggle("_expanded",!a),i(!a),r.setAttribute("data-smarttag-name",a?"ouvrir_resume":"fermer_resume"),await(0,b.f_)(t),t.setAttribute("aria-hidden",a),r.setAttribute("aria-expanded",!a),e.style.removeProperty(n)}),50)}))})(),document.querySelectorAll(".tabs:not(._set)").forEach((e=>{const t=e.querySelector(".tabs__tablist");if(!t)return;const r=(e,t)=>{t.focus(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");const r=document.querySelector(e.hash),a=document.querySelector(t.hash);r.setAttribute("hidden",""),a.removeAttribute("hidden")};t.setAttribute("role","tablist"),t.querySelectorAll("li").forEach((e=>{e.setAttribute("role","presentation")}));const a=[...t.querySelectorAll("a")],s=[...e.querySelectorAll(".tabs__tabpanel")],n=Array.prototype.indexOf.call(a,t.querySelector("a._expanded"));a.forEach(((e,o)=>{const i=e.hash;if(i&&document.querySelector(i)){const t=i.split("#")[1];e.setAttribute("id",`${t}__label`),e.setAttribute("role","tab"),e.setAttribute("aria-controls",`${t}`),e.setAttribute("aria-selected",o===n);const r=document.querySelector(i);r.setAttribute("role","tabpanel"),r.setAttribute("aria-controlledby",`${t}__label`),r.setAttribute("tabindex",-1),o!==n&&(e.setAttribute("tabindex",-1),r.setAttribute("hidden",""))}e.addEventListener("click",(function(a){a.preventDefault();const s=t.querySelector("[aria-selected=true]");e!==s&&r(s,e)})),e.addEventListener("keydown",(e=>{let t=Array.prototype.indexOf.call(a,e.currentTarget),n=37===e.which?t-1:39===e.which?t+1:40===e.which?"down":null;null!==n&&(e.preventDefault(),"down"===n?s[t].focus():a[n]&&r(e.currentTarget,a[n]))}))})),e.classList.add("_set"),e.querySelector(".tabs__tablist a._expanded").classList.remove("_expanded"),e.querySelector(".tabs__tabpanel._expanded").classList.remove("_expanded")})),(0,v.Z)(),document.querySelectorAll("[data-js-tooltip]:not(._set)").forEach((e=>{const t=e.querySelector("button"),r=e.querySelector('[role="tooltip"]');if(!t&&!r)return;const a=t=>{t?e.classList.remove("_expanded"):e.classList.add("_expanded")};t.addEventListener("click",(t=>{t.stopPropagation();const r=e.classList.contains("_expanded");a(r)})),(0,y.Yo)((()=>a("false"))),(0,y.ZP)((()=>a("false"))),e.classList.add("_set")}))}})}},e=>{e.O(0,[216,351],(()=>{return t=5820,e(e.s=t);var t}));e.O()}]);